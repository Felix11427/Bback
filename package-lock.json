// Renamed variables and functions
const greetUser = (userName) => {
  return `Welcome, ${userName}!`;
};

// Reordered code and used a different approach for concatenation
const processInput = (inputArray) => {
  const numbers = inputArray.filter(item => typeof item === 'number');
  const alphabets = inputArray.filter(item => typeof item === 'string' && /^[a-zA-Z]$/.test(item));

  // Find the highest lowercase alphabet using a different approach
  const highestLowercase = alphabets.reduce((acc, curr) => {
    if (curr.toLowerCase() > acc) {
      return curr.toLowerCase();
    }
    return acc;
  }, '');

  return {
    numbers,
    alphabets,
    highestLowercase
  };
};

// Modified comments and added a new function
const handleRequest = (req, res) => {
  const { status, userId, collegeEmail, collegeRollNumber, inputArray } = req.body;

  // Process the input array using the modified function
  const processedData = processInput(inputArray);

  // Combine the original data and processed data
  const response = {
    status,
    userId,
    collegeEmail,
    collegeRollNumber,
    ...processedData
  };

  res.json(response);
};

// GET endpoint with a different operation code
const getOperationCode = (req, res) => {
  const operationCode = '12345'; // Replace with your desired operation code
  res.json({ operation_code: operationCode });
};

// Start the server
const PORT = process.env.PORT || 3000;
const app = express();
app.use(express.json());

app.post('/api/data', handleRequest);
app.get('/api/operation_code', getOperationCode);

app.listen(PORT, () => {
  console.log(`Server is running on port ${PORT}`);
});
